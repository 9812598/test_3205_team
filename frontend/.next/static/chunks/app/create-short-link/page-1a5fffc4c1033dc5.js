(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[279],{1598:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>c});var s=a(5155),l=a(2115),t=a(4477);let i=(0,t.createServerReference)("606c477bc778ed66aca7d4ea7927553aeae5a3a920",t.callServer,void 0,t.findSourceMapURL,"createShortLink");function c(){var e,r,a,t,c,n;let[o,d,u]=(0,l.useActionState)(i,{success:!1,message:"",shortUrl:"",errors:{}}),p=async e=>{try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(e),alert("Copied to clipboard!");return}let r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select();let a=document.execCommand("copy");if(document.body.removeChild(r),a)alert("Copied to clipboard!");else throw Error("Copy command failed")}catch(r){console.error("Failed to copy: ",r),prompt("Copy this URL manually:",e)}};return(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("main",{children:[(0,s.jsx)("h1",{className:"title",children:"Create Short Link"}),o.success&&o.shortUrl&&(0,s.jsxs)("div",{className:"successCard",children:[(0,s.jsx)("div",{className:"cardHeader",children:"Success!"}),(0,s.jsx)("p",{className:"cardText",children:"Your short URL has been created:"}),(0,s.jsxs)("div",{className:"urlContainer",children:[(0,s.jsx)("input",{type:"text",value:o.shortUrl,readOnly:!0,className:"urlInput"}),(0,s.jsx)("button",{type:"button",onClick:()=>p(o.shortUrl),className:"copyButton",children:"Copy"})]})]}),o.message&&!o.success&&(0,s.jsxs)("div",{className:"errorCard",children:[(0,s.jsx)("div",{className:"cardHeader",children:"Error"}),(0,s.jsx)("p",{className:"cardText",children:o.message})]}),(0,s.jsx)("form",{action:d,className:"form",children:(0,s.jsxs)("fieldset",{className:"fieldset",children:[(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("span",{className:"labelText",children:"Original URL *"}),(0,s.jsx)("input",{type:"url",name:"originalUrl",placeholder:"https://example.com",required:!0,className:"input","aria-invalid":(null==(e=o.errors)?void 0:e.originalUrl)?"true":"false"}),(null==(r=o.errors)?void 0:r.originalUrl)&&(0,s.jsx)("span",{className:"errorText",children:o.errors.originalUrl})]}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("span",{className:"labelText",children:"Custom Alias (optional)"}),(0,s.jsx)("input",{type:"text",name:"alias",placeholder:"my-custom-alias",maxLength:20,className:"input","aria-invalid":(null==(a=o.errors)?void 0:a.alias)?"true":"false"}),(0,s.jsx)("span",{className:"helpText",children:"Maximum 20 characters"}),(null==(t=o.errors)?void 0:t.alias)&&(0,s.jsx)("span",{className:"errorText",children:o.errors.alias})]}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("span",{className:"labelText",children:"Expires At"}),(0,s.jsx)("input",{type:"date",name:"expiresAt",className:"input","aria-label":"Date","aria-invalid":(null==(c=o.errors)?void 0:c.expiresAt)?"true":"false"}),(null==(n=o.errors)?void 0:n.expiresAt)&&(0,s.jsx)("span",{className:"errorText",children:o.errors.expiresAt})]}),(0,s.jsx)("button",{type:"submit",disabled:u,"aria-busy":u,className:"submitButton",children:u?"Creating...":"Create Short Link"})]})})]})})}},4477:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{callServer:function(){return s.callServer},createServerReference:function(){return t},findSourceMapURL:function(){return l.findSourceMapURL}});let s=a(3806),l=a(1818),t=a(4979).createServerReference},7634:(e,r,a)=>{Promise.resolve().then(a.bind(a,1598))}},e=>{var r=r=>e(e.s=r);e.O(0,[441,684,358],()=>r(7634)),_N_E=e.O()}]);